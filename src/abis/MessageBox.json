{
  "_format": "hh-sol-artifact-1",
  "contractName": "MessageBox",
  "sourceName": "contracts/MessageBox.sol",
  "abi": [
    {
      "inputs": [],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "address",
          "name": "_from",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "_to",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "_index",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "bool",
          "name": "_isDeleted",
          "type": "bool"
        }
      ],
      "name": "MessageDeleted",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "address",
          "name": "_from",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "_to",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "_index",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "bool",
          "name": "_isRead",
          "type": "bool"
        }
      ],
      "name": "MessageRead",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "address",
          "name": "_from",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "_to",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "_index",
          "type": "uint256"
        }
      ],
      "name": "MessageReceived",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "previousOwner",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "newOwner",
          "type": "address"
        }
      ],
      "name": "OwnershipTransferred",
      "type": "event"
    },
    {
      "inputs": [],
      "name": "count",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_index",
          "type": "uint256"
        }
      ],
      "name": "get",
      "outputs": [
        {
          "components": [
            {
              "internalType": "address",
              "name": "sender",
              "type": "address"
            },
            {
              "internalType": "address",
              "name": "receiver",
              "type": "address"
            },
            {
              "internalType": "string",
              "name": "text",
              "type": "string"
            },
            {
              "internalType": "string",
              "name": "imageURL",
              "type": "string"
            },
            {
              "internalType": "address",
              "name": "app",
              "type": "address"
            },
            {
              "internalType": "uint256",
              "name": "messageId",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "timestamp",
              "type": "uint256"
            },
            {
              "internalType": "bool",
              "name": "isRead",
              "type": "bool"
            },
            {
              "internalType": "bool",
              "name": "isDeleted",
              "type": "bool"
            }
          ],
          "internalType": "struct IMessageBox.Message",
          "name": "",
          "type": "tuple"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_index",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "_isDeleted",
          "type": "bool"
        }
      ],
      "name": "markDeleted",
      "outputs": [
        {
          "components": [
            {
              "internalType": "address",
              "name": "sender",
              "type": "address"
            },
            {
              "internalType": "address",
              "name": "receiver",
              "type": "address"
            },
            {
              "internalType": "string",
              "name": "text",
              "type": "string"
            },
            {
              "internalType": "string",
              "name": "imageURL",
              "type": "string"
            },
            {
              "internalType": "address",
              "name": "app",
              "type": "address"
            },
            {
              "internalType": "uint256",
              "name": "messageId",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "timestamp",
              "type": "uint256"
            },
            {
              "internalType": "bool",
              "name": "isRead",
              "type": "bool"
            },
            {
              "internalType": "bool",
              "name": "isDeleted",
              "type": "bool"
            }
          ],
          "internalType": "struct IMessageBox.Message",
          "name": "",
          "type": "tuple"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_index",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "_isRead",
          "type": "bool"
        }
      ],
      "name": "markRead",
      "outputs": [
        {
          "components": [
            {
              "internalType": "address",
              "name": "sender",
              "type": "address"
            },
            {
              "internalType": "address",
              "name": "receiver",
              "type": "address"
            },
            {
              "internalType": "string",
              "name": "text",
              "type": "string"
            },
            {
              "internalType": "string",
              "name": "imageURL",
              "type": "string"
            },
            {
              "internalType": "address",
              "name": "app",
              "type": "address"
            },
            {
              "internalType": "uint256",
              "name": "messageId",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "timestamp",
              "type": "uint256"
            },
            {
              "internalType": "bool",
              "name": "isRead",
              "type": "bool"
            },
            {
              "internalType": "bool",
              "name": "isDeleted",
              "type": "bool"
            }
          ],
          "internalType": "struct IMessageBox.Message",
          "name": "",
          "type": "tuple"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "owner",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "renounceOwnership",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_to",
          "type": "address"
        },
        {
          "internalType": "string",
          "name": "_text",
          "type": "string"
        }
      ],
      "name": "send",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_to",
          "type": "address"
        },
        {
          "internalType": "string",
          "name": "_text",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "_imageURL",
          "type": "string"
        },
        {
          "internalType": "address",
          "name": "_app",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "_messageId",
          "type": "uint256"
        }
      ],
      "name": "sendAppMessage",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "newOwner",
          "type": "address"
        }
      ],
      "name": "transferOwnership",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x608060405234801561001057600080fd5b5061001a3361001f565b61006f565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b610fa08061007e6000396000f3fe608060405234801561001057600080fd5b50600436106100a35760003560e01c80638f37432a1161007657806399142b5f1161005b57806399142b5f14610137578063cea97b291461014a578063f2fde38b1461015d57600080fd5b80638f37432a146101115780639507d39a1461012457600080fd5b806306661abd146100a857806323b05437146100cc578063715018a6146100ec5780638da5cb5b146100f6575b600080fd5b336000908152600260205260409020545b6040519081526020015b60405180910390f35b6100df6100da366004610d92565b610170565b6040516100c39190610e14565b6100f4610419565b005b6000546040516001600160a01b0390911681526020016100c3565b6100df61011f366004610d92565b610484565b6100df610132366004610d79565b610591565b6100b9610145366004610c9e565b6107d1565b6100b9610158366004610cec565b6107f7565b6100f461016b366004610c83565b610810565b6101de60405180610120016040528060006001600160a01b0316815260200160006001600160a01b03168152602001606081526020016060815260200160006001600160a01b0316815260200160008152602001600081526020016000151581526020016000151581525090565b3360009081526001602052604081208054859081106101ff576101ff610f3e565b600091825260209182902060089091020160078101805460ff19168615159081179091558154604080516001600160a01b0390921682523394820194909452928301879052606083015291507fad6a26e3a73b064591f0099d1d4a39376a5e5c412194b702c0247c64fbacfd1a906080015b60405180910390a1604080516101208101825282546001600160a01b03908116825260018401541660208201526002830180549192849290840191906102b690610f03565b80601f01602080910402602001604051908101604052809291908181526020018280546102e290610f03565b801561032f5780601f106103045761010080835404028352916020019161032f565b820191906000526020600020905b81548152906001019060200180831161031257829003601f168201915b5050505050815260200160038201805461034890610f03565b80601f016020809104026020016040519081016040528092919081815260200182805461037490610f03565b80156103c15780601f10610396576101008083540402835291602001916103c1565b820191906000526020600020905b8154815290600101906020018083116103a457829003601f168201915b505050918352505060048201546001600160a01b03166020820152600582015460408201526006820154606082015260079091015460ff8082161515608084015261010090910416151560a090910152949350505050565b6000546001600160a01b031633146104785760405162461bcd60e51b815260206004820181905260248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e657260448201526064015b60405180910390fd5b61048260006108f2565b565b6104f260405180610120016040528060006001600160a01b0316815260200160006001600160a01b03168152602001606081526020016060815260200160006001600160a01b0316815260200160008152602001600081526020016000151581526020016000151581525090565b33600090815260016020526040812080548590811061051357610513610f3e565b600091825260209182902060089091020160078101805461ff001916610100871515908102919091179091558154604080516001600160a01b0390921682523394820194909452928301879052606083015291507f1970a3c9d15866d5c24e8f174beb250c069efcb705ddf7197a75521e1336730a90608001610271565b6105ff60405180610120016040528060006001600160a01b0316815260200160006001600160a01b03168152602001606081526020016060815260200160006001600160a01b0316815260200160008152602001600081526020016000151581526020016000151581525090565b33600090815260016020526040902080548390811061062057610620610f3e565b60009182526020918290206040805161012081018252600890930290910180546001600160a01b039081168452600182015416938301939093526002830180549293929184019161067090610f03565b80601f016020809104026020016040519081016040528092919081815260200182805461069c90610f03565b80156106e95780601f106106be576101008083540402835291602001916106e9565b820191906000526020600020905b8154815290600101906020018083116106cc57829003601f168201915b5050505050815260200160038201805461070290610f03565b80601f016020809104026020016040519081016040528092919081815260200182805461072e90610f03565b801561077b5780601f106107505761010080835404028352916020019161077b565b820191906000526020600020905b81548152906001019060200180831161075e57829003601f168201915b505050918352505060048201546001600160a01b03166020820152600582015460408201526006820154606082015260079091015460ff8082161515608084015261010090910416151560a09091015292915050565b60006107f083836040518060200160405280600081525060008061094f565b9392505050565b6000610806868686868661094f565b9695505050505050565b6000546001600160a01b0316331461086a5760405162461bcd60e51b815260206004820181905260248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e6572604482015260640161046f565b6001600160a01b0381166108e65760405162461bcd60e51b815260206004820152602660248201527f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160448201527f6464726573730000000000000000000000000000000000000000000000000000606482015260840161046f565b6108ef816108f2565b50565b600080546001600160a01b0383811673ffffffffffffffffffffffffffffffffffffffff19831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b6040805161012081018252600060e0820181905261010082018190523382526001600160a01b0388811660208085018290528486018a905260608501899052918716608085015260a084018690524260c0850152825260018152838220600290915292812054835491939183908390839081106109ce576109ce610f3e565b6000918252602091829020835160089092020180546001600160a01b0392831673ffffffffffffffffffffffffffffffffffffffff199182161782558484015160018301805491909416911617909155604083015180519192610a3992600285019290910190610b41565b5060608201518051610a55916003840191602090910190610b41565b50608082015160048201805473ffffffffffffffffffffffffffffffffffffffff19166001600160a01b0390921691909117905560a0820151600582015560c0820151600682015560e0820151600790910180546101009384015161ffff1990911692151561ff00191692909217911515909202179055610ad7816001610edd565b6001600160a01b038a166000818152600260209081526040918290209390935580513381529283019190915281018290527fe355996e2996142ac85dc67216bbb3fc359221d123a11cdfeee89bc680e997089060600160405180910390a198975050505050505050565b828054610b4d90610f03565b90600052602060002090601f016020900481019282610b6f5760008555610bb5565b82601f10610b8857805160ff1916838001178555610bb5565b82800160010185558215610bb5579182015b82811115610bb5578251825591602001919060010190610b9a565b50610bc1929150610bc5565b5090565b5b80821115610bc15760008155600101610bc6565b80356001600160a01b0381168114610bf157600080fd5b919050565b600082601f830112610c0757600080fd5b813567ffffffffffffffff80821115610c2257610c22610f54565b604051601f8301601f19908116603f01168101908282118183101715610c4a57610c4a610f54565b81604052838152866020858801011115610c6357600080fd5b836020870160208301376000602085830101528094505050505092915050565b600060208284031215610c9557600080fd5b6107f082610bda565b60008060408385031215610cb157600080fd5b610cba83610bda565b9150602083013567ffffffffffffffff811115610cd657600080fd5b610ce285828601610bf6565b9150509250929050565b600080600080600060a08688031215610d0457600080fd5b610d0d86610bda565b9450602086013567ffffffffffffffff80821115610d2a57600080fd5b610d3689838a01610bf6565b95506040880135915080821115610d4c57600080fd5b50610d5988828901610bf6565b935050610d6860608701610bda565b949793965091946080013592915050565b600060208284031215610d8b57600080fd5b5035919050565b60008060408385031215610da557600080fd5b8235915060208301358015158114610dbc57600080fd5b809150509250929050565b6000815180845260005b81811015610ded57602081850181015186830182015201610dd1565b81811115610dff576000602083870101525b50601f01601f19169290920160200192915050565b60208152610e2e6020820183516001600160a01b03169052565b60006020830151610e4a60408401826001600160a01b03169052565b506040830151610120806060850152610e67610140850183610dc7565b91506060850151601f19858403016080860152610e848382610dc7565b9250506080850151610ea160a08601826001600160a01b03169052565b5060a085015160c085015260c085015160e085015260e0850151610100610ecb8187018315159052565b90950151151593019290925250919050565b60008219821115610efe57634e487b7160e01b600052601160045260246000fd5b500190565b600181811c90821680610f1757607f821691505b60208210811415610f3857634e487b7160e01b600052602260045260246000fd5b50919050565b634e487b7160e01b600052603260045260246000fd5b634e487b7160e01b600052604160045260246000fdfea26469706673582212204eb7b269f971a7da5d5266dad64d530cfe25ac8bea7f4350e255fb849aaf4c0864736f6c63430008060033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106100a35760003560e01c80638f37432a1161007657806399142b5f1161005b57806399142b5f14610137578063cea97b291461014a578063f2fde38b1461015d57600080fd5b80638f37432a146101115780639507d39a1461012457600080fd5b806306661abd146100a857806323b05437146100cc578063715018a6146100ec5780638da5cb5b146100f6575b600080fd5b336000908152600260205260409020545b6040519081526020015b60405180910390f35b6100df6100da366004610d92565b610170565b6040516100c39190610e14565b6100f4610419565b005b6000546040516001600160a01b0390911681526020016100c3565b6100df61011f366004610d92565b610484565b6100df610132366004610d79565b610591565b6100b9610145366004610c9e565b6107d1565b6100b9610158366004610cec565b6107f7565b6100f461016b366004610c83565b610810565b6101de60405180610120016040528060006001600160a01b0316815260200160006001600160a01b03168152602001606081526020016060815260200160006001600160a01b0316815260200160008152602001600081526020016000151581526020016000151581525090565b3360009081526001602052604081208054859081106101ff576101ff610f3e565b600091825260209182902060089091020160078101805460ff19168615159081179091558154604080516001600160a01b0390921682523394820194909452928301879052606083015291507fad6a26e3a73b064591f0099d1d4a39376a5e5c412194b702c0247c64fbacfd1a906080015b60405180910390a1604080516101208101825282546001600160a01b03908116825260018401541660208201526002830180549192849290840191906102b690610f03565b80601f01602080910402602001604051908101604052809291908181526020018280546102e290610f03565b801561032f5780601f106103045761010080835404028352916020019161032f565b820191906000526020600020905b81548152906001019060200180831161031257829003601f168201915b5050505050815260200160038201805461034890610f03565b80601f016020809104026020016040519081016040528092919081815260200182805461037490610f03565b80156103c15780601f10610396576101008083540402835291602001916103c1565b820191906000526020600020905b8154815290600101906020018083116103a457829003601f168201915b505050918352505060048201546001600160a01b03166020820152600582015460408201526006820154606082015260079091015460ff8082161515608084015261010090910416151560a090910152949350505050565b6000546001600160a01b031633146104785760405162461bcd60e51b815260206004820181905260248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e657260448201526064015b60405180910390fd5b61048260006108f2565b565b6104f260405180610120016040528060006001600160a01b0316815260200160006001600160a01b03168152602001606081526020016060815260200160006001600160a01b0316815260200160008152602001600081526020016000151581526020016000151581525090565b33600090815260016020526040812080548590811061051357610513610f3e565b600091825260209182902060089091020160078101805461ff001916610100871515908102919091179091558154604080516001600160a01b0390921682523394820194909452928301879052606083015291507f1970a3c9d15866d5c24e8f174beb250c069efcb705ddf7197a75521e1336730a90608001610271565b6105ff60405180610120016040528060006001600160a01b0316815260200160006001600160a01b03168152602001606081526020016060815260200160006001600160a01b0316815260200160008152602001600081526020016000151581526020016000151581525090565b33600090815260016020526040902080548390811061062057610620610f3e565b60009182526020918290206040805161012081018252600890930290910180546001600160a01b039081168452600182015416938301939093526002830180549293929184019161067090610f03565b80601f016020809104026020016040519081016040528092919081815260200182805461069c90610f03565b80156106e95780601f106106be576101008083540402835291602001916106e9565b820191906000526020600020905b8154815290600101906020018083116106cc57829003601f168201915b5050505050815260200160038201805461070290610f03565b80601f016020809104026020016040519081016040528092919081815260200182805461072e90610f03565b801561077b5780601f106107505761010080835404028352916020019161077b565b820191906000526020600020905b81548152906001019060200180831161075e57829003601f168201915b505050918352505060048201546001600160a01b03166020820152600582015460408201526006820154606082015260079091015460ff8082161515608084015261010090910416151560a09091015292915050565b60006107f083836040518060200160405280600081525060008061094f565b9392505050565b6000610806868686868661094f565b9695505050505050565b6000546001600160a01b0316331461086a5760405162461bcd60e51b815260206004820181905260248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e6572604482015260640161046f565b6001600160a01b0381166108e65760405162461bcd60e51b815260206004820152602660248201527f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160448201527f6464726573730000000000000000000000000000000000000000000000000000606482015260840161046f565b6108ef816108f2565b50565b600080546001600160a01b0383811673ffffffffffffffffffffffffffffffffffffffff19831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b6040805161012081018252600060e0820181905261010082018190523382526001600160a01b0388811660208085018290528486018a905260608501899052918716608085015260a084018690524260c0850152825260018152838220600290915292812054835491939183908390839081106109ce576109ce610f3e565b6000918252602091829020835160089092020180546001600160a01b0392831673ffffffffffffffffffffffffffffffffffffffff199182161782558484015160018301805491909416911617909155604083015180519192610a3992600285019290910190610b41565b5060608201518051610a55916003840191602090910190610b41565b50608082015160048201805473ffffffffffffffffffffffffffffffffffffffff19166001600160a01b0390921691909117905560a0820151600582015560c0820151600682015560e0820151600790910180546101009384015161ffff1990911692151561ff00191692909217911515909202179055610ad7816001610edd565b6001600160a01b038a166000818152600260209081526040918290209390935580513381529283019190915281018290527fe355996e2996142ac85dc67216bbb3fc359221d123a11cdfeee89bc680e997089060600160405180910390a198975050505050505050565b828054610b4d90610f03565b90600052602060002090601f016020900481019282610b6f5760008555610bb5565b82601f10610b8857805160ff1916838001178555610bb5565b82800160010185558215610bb5579182015b82811115610bb5578251825591602001919060010190610b9a565b50610bc1929150610bc5565b5090565b5b80821115610bc15760008155600101610bc6565b80356001600160a01b0381168114610bf157600080fd5b919050565b600082601f830112610c0757600080fd5b813567ffffffffffffffff80821115610c2257610c22610f54565b604051601f8301601f19908116603f01168101908282118183101715610c4a57610c4a610f54565b81604052838152866020858801011115610c6357600080fd5b836020870160208301376000602085830101528094505050505092915050565b600060208284031215610c9557600080fd5b6107f082610bda565b60008060408385031215610cb157600080fd5b610cba83610bda565b9150602083013567ffffffffffffffff811115610cd657600080fd5b610ce285828601610bf6565b9150509250929050565b600080600080600060a08688031215610d0457600080fd5b610d0d86610bda565b9450602086013567ffffffffffffffff80821115610d2a57600080fd5b610d3689838a01610bf6565b95506040880135915080821115610d4c57600080fd5b50610d5988828901610bf6565b935050610d6860608701610bda565b949793965091946080013592915050565b600060208284031215610d8b57600080fd5b5035919050565b60008060408385031215610da557600080fd5b8235915060208301358015158114610dbc57600080fd5b809150509250929050565b6000815180845260005b81811015610ded57602081850181015186830182015201610dd1565b81811115610dff576000602083870101525b50601f01601f19169290920160200192915050565b60208152610e2e6020820183516001600160a01b03169052565b60006020830151610e4a60408401826001600160a01b03169052565b506040830151610120806060850152610e67610140850183610dc7565b91506060850151601f19858403016080860152610e848382610dc7565b9250506080850151610ea160a08601826001600160a01b03169052565b5060a085015160c085015260c085015160e085015260e0850151610100610ecb8187018315159052565b90950151151593019290925250919050565b60008219821115610efe57634e487b7160e01b600052601160045260246000fd5b500190565b600181811c90821680610f1757607f821691505b60208210811415610f3857634e487b7160e01b600052602260045260246000fd5b50919050565b634e487b7160e01b600052603260045260246000fd5b634e487b7160e01b600052604160045260246000fdfea26469706673582212204eb7b269f971a7da5d5266dad64d530cfe25ac8bea7f4350e255fb849aaf4c0864736f6c63430008060033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
